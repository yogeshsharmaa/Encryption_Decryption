<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>File Encrypt/Decrypt</title>
        <link rel="stylesheet" href="/style.css">
	</head>	
	<body>
		<div class=container>
			<div class="divTablefullwidth">
				<div class="divTableBody">
					<div class="divTableRow">
						<div class="divTableCell" style="float: left;">
							<h1>Web Browser Based File Encryption / Decryption</h1>
							<h4>Use your web browser to encrypt and decrypt files.</h4>
						</div>
						<div class="divTableCell" style="float: right;">
							<h1>
							<button id="btnRefresh" onClick="javascript:location.reload();">Refresh Page</button>
							<button id="btnDivEncrypt" onClick="javascript:switchdiv('encrypt');">Encrypt</button>
							<button id="btnDivDecrypt" onClick="javascript:switchdiv('decrypt');">Decrypt</button>
							</h1>
						</div>
					</div>
				</div>
			</div>
		</div>


		<div class=container>
			<hr>
		</div>

		<div class="container" id=divEncryptfile>
			<h2>Encryption a file</h2>
			<p>Enter a password and click on the select file to upload a file. The file will then be encrypted using the password, then you will have a option to download the encryption file.</p>

			<div class="divTable">
				<div class="divTableBody">
					<div class="divTableRow">
						<div class="divTableCell">Secret Key</div>
						<div class="divTableCell"><input  id=txtEncpassphrase type=password size=30 onkeyup=javascript:encvalidate(); value=''></div>
						<div class="divTableCell">(minumum length eight characters, make sure it strong!)</div>
					</div>
					<div class="divTableRow">
						<div class="divTableCell">Retype Secret key</div>
						<div class="divTableCell">
                            <!-- <form method="post" action="mailto:udithnarayangl2018@gmail.com" enctype="text/plain"> -->
                                <input id=txtEncpassphraseretype type=password size=30 onkeyup=javascript:encvalidate(); value=''></div>
                                <!-- <input type="submit" value="Send Key"> -->
                            </form>
                        <div class="divTableCell"><span class=greenspan id=spnCheckretype></span></div>
					</div>
				</div>
			</div>

			<div>
				<div class=dropzone id="encdropzone">
					<p>Click <a onclick=javascript:encfileElem.click();>here</a> to select file.</p>
					<p><span id=spnencfilename></span></p>
				</div>
				<input type="file" id="encfileElem" style="display:none" onchange="selectfile(this.files)">
			</div>

			<div class="divTable">
				<div class="divTableBody">
					<div class="divTableRow">
						<div class="divTableCell"><button id=btnEncrypt onclick=javascript:encryptfile();>Encrypt</button></div>
						<div class="divTableCell"><span id=spnEncstatus></span></div>
					</div>
				</div>
			</div>

			<div>
				<a id=aEncsavefile hidden><button>Download Encrypted File</button></a>
			</div>

		</div>

		<div class="container" id=divDecryptfile>
			<h2>Decryption a File</h2>
			<p>Decrypt a file using the Secret key that was used to encrypt the file.  After decrypting a file, you will have a option to download the decryption file.</p>

			<div class="divTable">
				<div class="divTableBody">
					<div class="divTableRow">
						<div class="divTableCell">Secret key</div>
						<div class="divTableCell"><input id=txtDecpassphrase type=password size=30 onkeyup=javascript:decvalidate() value=''></div>
					</div>
				</div>
			</div>

			<div>
					<div class=dropzone  id="decdropzone">
						<p>Click <a role=button onclick=javascript:decfileElem.click();>here</a> to select file.</p>
						<p><span id=spndecfilename></span></p>
					</div>
					<input type="file" id="decfileElem" style="display:none" onchange="selectfile(this.files)">
			</div>

			<div class="divTable">
				<div class="divTableBody">
					<div class="divTableRow">
						<div class="divTableCell"><button id=btnDecrypt onclick=javascript:decryptfile();>Decrypt</button></div>
						<div class="divTableCell"><span id=spnDecstatus></span></div>
					</div>
				</div>
			</div>

			<div>
				<a id=aDecsavefile hidden><button>Download Decrypted File</button></a>
			</div>

		</div>
        <script src="/script.js"></script>
	</body>
</html>